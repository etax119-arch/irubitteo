# 관리자 대시보드 기능 명세

> 참조: `durubitteo_design/src/AdminDashboard.jsx`

## 개요

두루빛터 플랫폼 관리자가 사용하는 중앙 관리 시스템. 전체 회원사 및 근로자 현황 파악, 출퇴근 관리, 통계 조회, 문의 처리 기능 제공.

---

## 구현 상태

**구현 완료** (2026-02-05)

### 라우트 구조

```
/app/admin/
├── layout.tsx              # 헤더 + 6개 탭 네비게이션 (Link 기반)
├── page.tsx                # → /admin/dashboard 리다이렉트
├── _components/
│   ├── AdminStatCard.tsx   # 통계 카드 (badge 지원)
│   ├── CompanyAttendanceAccordion.tsx  # 회사별 출퇴근 아코디언
│   ├── CompanyCard.tsx     # 회원사 카드
│   ├── WorkerTable.tsx     # 근로자 테이블 (필터 포함)
│   ├── WorkStatsTable.tsx  # 근무통계 테이블
│   ├── AbsenceAlertList.tsx  # 결근 알림 리스트
│   ├── InquiryList.tsx     # 기업 문의 리스트
│   ├── AddCompanyModal.tsx # 회원사 추가 모달
│   ├── InquiryDetailModal.tsx  # 문의 상세 모달
│   └── PrintPreviewModal.tsx   # 인쇄 프리뷰 모달
├── _data/
│   └── dummyData.ts        # 더미 데이터 통합
├── dashboard/page.tsx      # 대시보드 탭
├── companies/
│   ├── page.tsx            # 회원사 관리 탭
│   └── [id]/page.tsx       # 회원사 상세
├── employees/
│   ├── page.tsx            # 근로자 관리 탭
│   └── [id]/page.tsx       # 근로자 상세
├── workstats/page.tsx      # 근무 통계 탭
├── notifications/page.tsx  # 알림센터 탭
└── reports/page.tsx        # 리포트 탭
```

### 타입 정의

- `/types/adminDashboard.ts` - 모든 Admin 관련 타입 정의

### URL 구조

| URL | 설명 |
|-----|------|
| `/admin` | `/admin/dashboard`로 리다이렉트 |
| `/admin/dashboard` | 대시보드 탭 |
| `/admin/companies` | 회원사 관리 탭 |
| `/admin/companies/[id]` | 회원사 상세 페이지 |
| `/admin/employees` | 근로자 관리 탭 |
| `/admin/employees/[id]` | 근로자 상세 페이지 |
| `/admin/workstats` | 근무 통계 탭 |
| `/admin/notifications` | 알림센터 탭 |
| `/admin/reports` | 리포트 탭 |

---

## 탭 구성

| 탭 ID | 탭 이름 | 아이콘 | 설명 |
|-------|--------|--------|------|
| dashboard | 대시보드 | TrendingUp | 플랫폼 전체 현황 및 긴급 알림 |
| companies | 회원사 관리 | Building2 | 회원사 목록 조회 및 등록 |
| workers | 근로자 관리 | Users | 전체 근로자 목록 조회 |
| workstats | 근무 통계 | BarChart3 | 회사별 월간 근무 통계 |
| notifications | 알림센터 | Bell | 결근 알림, 기업 문의 |
| reports | 리포트 | FileText | 문서 템플릿 및 통계 리포트 |

---

## 탭별 상세 기능

### 1. 대시보드 탭

**목적**: 플랫폼 전체 현황 한눈에 파악

#### 통계 카드 (4열)
| 카드 | 아이콘 | 색상 | 데이터 | 부가정보 |
|------|--------|------|--------|----------|
| 전체 회원사 | Building2 | 파란색 | {개수}개 | +N 이번달 |
| 전체 근로자 | Users | 주황색 (강조) | {명}명 | +N 이번달 |
| 근무 중 | UserCheck | 녹색 | {명}명 | - |
| 긴급 알림 | AlertCircle | 빨간색 | {건}건 | - |

#### 긴급 알림 섹션
- 우선순위 높은 알림만 표시
- 각 알림: 아이콘, 제목, 날짜, 메시지, "처리하기" 버튼
- "전체보기 →" 링크 (알림센터 탭으로 이동)

**알림 유형**:
- 결근 알림 (출근 시간 30분 초과 미출근)
- 신규 기업 문의

#### 회사별 출퇴근 현황

**날짜 선택**:
- 이전/다음 날짜 버튼
- 날짜 선택 input (캘린더)
- 회사명 검색창

**회사별 아코디언**:
- 회사명, 출근 인원 표시 (예: "3/5명 출근")
- 오전/오후 토글 버튼
- 상태별 집계 배지 (출근 전, 출근 중, 지각, 출근 완료)

**펼친 테이블 컬럼**:
| 컬럼 | 설명 |
|------|------|
| 이름 | 근로자 이름 (주의 필요 시 경고 아이콘) |
| 전화번호 | 연락처 |
| 상태 | 출근 전 / 출근 중 / 지각 / 출근 완료 |
| 출근 시간 | 클릭하여 수정 가능 |
| 퇴근 시간 | 클릭하여 수정 가능 |
| 업무 내용 | 클릭하여 수정 가능 |

**인라인 편집**:
- 셀 클릭 시 입력 필드 + 저장/취소 버튼 표시
- 시간 필드: time input
- 업무 내용: text input

---

### 2. 회원사 관리 탭

**목적**: 회원사 목록 조회 및 신규 등록

#### 상단 영역
- "회원사 관리" 제목
- 검색창 (회사명 검색)
- "+ 회원사 추가" 버튼

#### 회원사 목록 (카드 형태)
각 회원사 카드:
- 회사명 + 상태 배지 (계약중/만료임박)
- 정보 그리드:
  | 항목 | 설명 |
  |------|------|
  | 위치 | 지역 |
  | 근로자 수 | N명 |
  | 계약만료 | 만료일 |
- "상세보기" 버튼 → CompanyDetail 화면

#### 회원사 추가 모달

**섹션 1: 회사 기본 정보**
| 필드 | 타입 | 필수 | 설명 |
|------|------|------|------|
| 회사명 | 텍스트 | O | 예: "(주)두루빛 제조" |
| 사업자등록번호 | 텍스트 | O | 000-00-00000 형식 |
| 주소 | 텍스트 | - | 사업장 주소 |
| 계약 시작일 | 날짜 | O | 계약 시작일 |

**섹션 2: 인사 담당자 정보**
| 필드 | 타입 | 필수 | 설명 |
|------|------|------|------|
| 담당자명 | 텍스트 | O | 인사담당자 이름 |
| 연락처 | 전화번호 | O | 010-0000-0000 |
| 이메일 | 이메일 | - | email@company.com |

**섹션 3: 기업 관리자 계정 설정**
| 필드 | 타입 | 필수 | 설명 |
|------|------|------|------|
| 관리자 아이디 | 텍스트 | O | 기업 대시보드 로그인용 |

- 초기 비밀번호는 자동 생성되어 담당자 이메일로 발송

---

### 3. 근로자 관리 탭

**목적**: 플랫폼 전체 근로자 목록 조회

#### 상단 영역
- "근로자 관리" 제목
- 검색창 (이름, 회사명 검색)
- 필터 버튼

#### 근로자 목록 테이블
| 컬럼 | 설명 |
|------|------|
| 이름 | 아바타 + 이름 + 전화번호 |
| 회사 | 소속 회사명 |
| 전화번호 | 연락처 |
| 장애유형 | 예: "지체장애 3급" |
| 계약만료 | 계약 만료일 |
| 상태 | 근무중 / 결근 |
| 관리 | "상세보기" → AdminWorkerDetail 화면 |

---

### 4. 근무 통계 탭

**목적**: 회사별 월간 근무 시간 통계 조회 및 인쇄

#### 상단 영역
- "근무 통계" 제목
- 검색창 (회사명 검색)
- 월 선택 input (예: 2026-01)

#### 회사별 아코디언
- 회사명, 전체 인원 수
- "인쇄 프리뷰" 버튼

**펼친 테이블 컬럼**:
| 컬럼 | 설명 |
|------|------|
| 이름 | 근로자 이름 |
| 전화번호 | 연락처 |
| 출근 일수 | 클릭하여 수정 가능 |
| 총 근무시간 | 클릭하여 수정 가능 |

**테이블 푸터**:
- 평균 출근 일수
- 평균 근무시간

#### 인쇄 프리뷰 모달
- 회사명 + 월 통계 제목
- 근로자별 근무 통계 테이블
- 서명란 (기업 대표자, 두루빛터 담당자)
- 발급일, 시스템명
- "인쇄" 버튼

---

### 5. 알림센터 탭

**목적**: 긴급 알림 및 기업 문의 처리

#### 2열 그리드 레이아웃

**좌측: 장애인 근로자 결근 알림**
- 목록 아이템:
  - 근로자 이름
  - 상태 배지 (결근)
  - 회사명, 날짜
  - "확인하기" 버튼 → 근로자 상세 화면

**우측: 신규 기업 문의 알림**
- 안내: "홈페이지를 통해 접수된 신규 기업 문의입니다."
- 목록 아이템:
  - 기업명
  - "신규 문의" 배지
  - 대표자, 접수일
  - 문의 요약 (truncate)
  - "문의 확인" 버튼

#### 문의 상세 모달

**기업 정보**:
| 항목 | 내용 |
|------|------|
| 기업명 | 회사명 |
| 대표자 | 대표자명 |
| 전화번호 | 연락처 |
| 이메일 | 이메일 주소 |

**문의 내용**:
- 상세 문의 내용
- 접수일

**버튼**:
- "상담 완료" - 클릭 시 목록에서 제거

---

### 6. 리포트 탭

**목적**: 문서 템플릿 다운로드 및 통계 리포트 조회

#### 2열 그리드 레이아웃

**문서 템플릿**:
- 근로계약서
- 출근확인서
- 경력증명서
- 개인정보 동의서
- 장애인 고용계획서
- 각 항목 클릭 시 다운로드

**통계 리포트**:
- 월별 출근율 리포트
- 회사별 정산 리포트
- 장애유형별 통계
- 지역별 배치 현황
- 계약 현황 리포트
- 각 항목 클릭 시 조회

---

## 데이터 흐름

### 입력 데이터
| 항목 | 출처 | 설명 |
|------|------|------|
| 회원사 정보 | 모달 입력 | 신규 회원사 등록 |
| 출퇴근 수정 | 인라인 편집 | 관리자 수정 |
| 근무 통계 수정 | 인라인 편집 | 출근일수/근무시간 조정 |

### 출력 데이터
| 항목 | 대상 | 설명 |
|------|------|------|
| 기업 관리자 계정 | 이메일 | 초기 비밀번호 발송 |
| 근무 통계 인쇄물 | 프린터 | 월간 통계 문서 |
| 리포트 | 다운로드/화면 | 각종 통계 자료 |

---

## 기업 문의 처리 흐름

1. 랜딩 페이지에서 기업 문의 제출 (CompanyInquiry)
2. 관리자 대시보드 알림센터에 표시
3. 관리자가 "문의 확인" 클릭하여 상세 조회
4. 상담 진행 후 "상담 완료" 클릭
5. 목록에서 자동 제거

---

## 연관 기능

- 기업 대시보드: 개별 회사 관리 기능
- 직원 대시보드: 근로자 출퇴근 앱
- 랜딩 페이지 > 기업 문의: 문의 접수

---

## 구현 완료 내역

### UI 구현 완료
- [x] 라우트 기반 탭 구조 (URL 북마크/공유 가능, 브라우저 히스토리 지원)
- [x] 대시보드 탭: 통계 카드, 긴급 알림, 회사별 출퇴근 아코디언
- [x] 회원사 관리 탭: 회원사 목록, 검색, 추가 모달, 월정산액 인라인 수정
- [x] 회원사 상세 페이지: 기본정보, PM정보, 소속 근로자, 첨부파일
- [x] 근로자 관리 탭: 필터(현재/퇴사/전체), 검색, 테이블
- [x] 근로자 상세 페이지: 프로필, 출퇴근 기록, 달력 뷰, 문서 관리
- [x] 근무 통계 탭: 회사별 아코디언, 인라인 수정, 인쇄 프리뷰 모달
- [x] 알림센터 탭: 결근 알림, 기업 문의, 상세 모달
- [x] 리포트 탭: 문서 템플릿, 통계 리포트 목록

### 백엔드 연동 대기
- [ ] 실제 API 연동 (현재 더미 데이터 사용)
- [ ] 회원사 CRUD API
- [ ] 근로자 CRUD API
- [ ] 출퇴근 기록 API
- [ ] 기업 문의 API
- [ ] 파일 업로드/다운로드 API
- [ ] 인쇄 기능 (window.print() 사용 중)
